<div class="container">
    <h2 class="text-center mb-4">University News</h2>
  
    <!-- News Form -->
    <form (ngSubmit)="addOrUpdateNews()" class="news-form">
      <div class="form-group">
        <label for="title">Title</label>
        <input
          type="text"
          id="title"
          [(ngModel)]="newNews.title"
          name="title"
          required
        />
      </div>
  
      <div class="form-group">
        <label for="description">Description</label>
        <textarea
          id="description"
          [(ngModel)]="newNews.description"
          name="description"
          required
        ></textarea>
      </div>
  
      <div class="form-group">
        <label for="date">Date</label>
        <input
          type="date"
          id="date"
          [(ngModel)]="newNews.date"
          name="date"
          [min]="todayDate"
          required
        />
      </div>
  
      <div class="form-group">
        <label for="image">Image</label>
        <input
          type="file"
          id="image"
          (change)="onFileSelected($event)"
          accept="image/jpeg, image/png"
        />
        <div *ngIf="imagePreviewUrl" class="image-preview">
          <img [src]="imagePreviewUrl" alt="Preview" class="fixed-image" />
        </div>
        <div *ngIf="!isValidImage && selectedFile" class="text-danger mt-2">
          Only JPG and PNG images are allowed.
        </div>
      </div>
  
      <div class="form-group d-flex gap-2 mt-3">
        <button type="submit" class="btn btn-primary">
          {{ isEditing ? 'Update News' : 'Add News' }}
        </button>
        <button type="button" class="btn btn-secondary" (click)="cancelEdit()">
          Cancel
        </button>
      </div>
    </form>
  
    <!-- News Table -->
    <table class="table table-striped mt-5" *ngIf="universityNews.length > 0">
      <thead>
        <tr>
          <th>Title</th>
          <th>Description</th>
          <th>Date</th>
          <th>Image</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let news of universityNews">
          <td>{{ news.title }}</td>
          <td>{{ news.description }}</td>
          <td>{{ news.date }}</td>
          <td>
            <img
              *ngIf="news.imageUrl"
              [src]="news.imageUrl"
              alt="News Image"
              width="50"
              height="50"
            />
          </td>
          <td>
            <button class="btn btn-sm" (click)="editNews(news)">
              <i class="fa fa-edit"></i>
            </button>
            <button class="btn btn-sm" (click)="deleteNews(news.newsId)">
              <i class="fa fa-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  